{% extends "base.html" %}

{% block title %}Shopping Cart - Freakin Beats{% endblock %}

{% block extra_css %}
{% assets "cart_css" %}
<link rel="stylesheet" href="{{ ASSET_URL }}">
{% endassets %}
<style>
    /* Icon styling for loading and error states */
    .loading .lucide,
    .error .lucide {
        width: 2rem;
        height: 2rem;
        margin-right: 0.75rem;
        vertical-align: middle;
    }
    
    .empty-cart .lucide {
        width: 3rem;
        height: 3rem;
        display: block;
        margin: 0 auto 1rem;
    }
    
    /* Header title with icon - use flexbox for perfect centering */
    .header h1 {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
    }
    
    .header h1 .lucide {
        width: 1em;
        height: 1em;
        flex-shrink: 0;
    }
</style>
{% endblock %}

{% block header_title %}<i data-lucide="shopping-cart"></i>Shopping Cart{% endblock %}

{% block header_content %}
<p>Review your vinyl selections</p>
{% endblock %}

{% block content %}
<div class="cart-container">
    <div class="loading" id="loading">
        <i data-lucide="loader"></i>Loading cart...
    </div>
    
    <div class="error" id="error" style="display: none;">
        <i data-lucide="alert-circle"></i>Error loading cart. Please try again.
    </div>

    <div class="empty-cart" id="empty-cart" style="display: none;">
        <i data-lucide="shopping-cart"></i>
        <h2>Your cart is empty</h2>
        <p>Start shopping to add some amazing vinyl records to your cart!</p>
        <a href="/" class="shop-btn">Start Shopping</a>
    </div>

    <div id="cart-content" style="display: none;">
        <div class="cart-items" id="cart-items">
            <!-- Cart items will be inserted here -->
        </div>
        
        <div class="cart-summary">
            <div class="summary-row">
                <span>Items:</span>
                <span id="total-items">0</span>
            </div>
            <div class="summary-row">
                <span>Subtotal:</span>
                <span id="subtotal">$0.00</span>
            </div>
            <div class="summary-total">
                <span>Total:</span>
                <span id="total">$0.00</span>
            </div>
            
            <div class="cart-actions">
                <a href="/" class="secondary-btn">← Continue Shopping</a>
                <a href="/checkout" class="primary-btn checkout-btn">Proceed to Checkout →</a>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/cart.js') }}"></script>
{% endblock %}
